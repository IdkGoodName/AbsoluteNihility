@require "../guilded-variables"
@require "../../fake"

/*
 *
 * -=- Rich Text Input -=-
 *
 */

// Whole container
.ChatChannelInput-container
    @extends $RadiusMedium

// Forum editor
.Editor-container:not(.Editor-container-type-bare)
    @extends $ContentLight

.SlateEditor
    &-container-type-reaction,
    &-container-type-simple
        --body-text-color: fg-colour[2]
        & ^[0]-editor
            SetScrollbar()

// Chat input
.ChatChannelInput-container .ChatChannelInput-editor,
.Editor-container.ChatV2MessageContents-editor,
.ChannelTitleInput-container,
.ChatChannelInput-editor,
// No write editor
.ChatChannelInput-no-permissions,
.ChatChannelInputPublic-container
    @extends $ContentLightHighlighted

.ChatChannelArchivedControl-container
    PanelBordered(bg-colour[5], border-light[1])

// Doc editor
.DocEditor-container .DocEditor-content-input,
// List item message editor
.TeamListItemsInput-editor
    @extends $PanelTransparent
    @extends $RemoveBorder

// List item note editor
.Editor-container.TeamListItemNoteEditor-editor
    background-color: bg-colour[5]

// Forum reply editor
.TeamThreadPostEditor-editor .Editor-container
    @extends $PanelMediumHighlighted

// Editor toolbar
.SlateToolbarStrip
    @extends $SetBorderLight-1
    border-top: none
    // In doc editor
    .DocEditor-container &
        border-top: solid 1px border-light[1]
        border-left: solid 1px border-light[1]
        border-right: solid 1px border-light[1]
        padding: 0 spacing-0
        border-radius: radius-1

// Thread pop-up
.ChatV2MessageReplyTooltipInput
    // Content editor
    &-container .Editor-container
        @extends $PanelMedium
    // Title editor
    &-title-container
        @extends $ContentLight

// Border after +
.ChatV2MessageReplyTooltipInput-title-icon::after,
.SlateInsertToolbar-container::after,
.ChannelTitleInput-icon::after
    display: none

// Change text in no write allowed inputs
.ChatChannelInput-no-permissions,
.ChatChannelInputPublic-container
    @extends $TextDark
.ChatChannelInputPublic-header
    @extends $TextMedium

/*
 * --- Forums and Profile ---
 */

// Input
.TeamThreadReplyCreator-unexpanded-wrapper,
.DraftInputWithTitleV2-title-wrapper,
.CollapsedInput-container
    @extends $ContentLight

// Make it stand-out less
.CollapsedInput-container.ContentMetadataInlineReplyDisplay-collapsed-input
    @extends $ContentLight

.TeamThreadReplyCreator-container-desktop .TeamThreadReplyCreator-unexpanded-wrapper,
.DraftInputWithTitleV2-container-desktop.DraftInputWithTitleV2-container-unexpanded,
.CollapsedInput-container
    // Input hover
    &::after
        @extends $ContentGlare

// Input text
.DraftInputWithTitleV2-input::placeholder
    @extends $TextMedium

// Write a reply
.TeamThreadReplyCreator-title
    @extends $TextLight

// Cancel button
.CancelText-container
    @extends $TextThemeDullTransition
    // Cancel button hovered
    &:hover
        @extends $TextThemeBleached

// Comment input small
.CollapsedInput-container-size-sm
    @extends $TextDark

.PostReplyQuoteButtons-option
    // Quote/Reply buttons
    &:not(:first-child):not(:first-child)::before
        background-color: fg-colour[0]
    // Quote/Reply buttons active
    &, &:visited, &:active, &:focus
        @extends $TextThemeDullTransition
    &:hover
        @extends $TextThemeBleached


/*
 * --- Toolbar ---
 */

// Selected text toolbar picker
.SlateSelectionToolbar
    &-toolbar
        @extends $ContentRoughDark
        //box-shadow: 0 0 16px 2px black

// Selected text toolbar caret
.SlateSelectionToolbar-caret
    border-top-color: bg-colour[1]

// Toolbar icons
.SlateEditor-send-icon.SlateEditor-send-icon-disabled,
.ReactionPickerButton-icon,
.SlateEditor-clear-icon,
.SlateToolbarIcon-icon,
.SlateToolbarMenuIcon
    @extends $SvgDarkTransition

// Hovered over toolbar icon
.ReactionPickerButton-container:hover .ReactionPickerButton-icon,
.SlateToolbarMenuIcon *:hover .SlateToolbarMenuIcon-carat,
.SlateToolbarMenuIcon *:hover .SlateToolbarMenuIcon-icon,
.SlateToolbarIcon-wrapper:hover .SlateToolbarIcon-icon,
.SlateToolbarMenuIcon-container:hover,
.SlateEditor-reactions-control:hover,
.SlateToolbarMenuIcon:hover
    @extends $SvgMedium

// Active toolbar icon
.ReactionPickerButton-container-active .ReactionPickerButton-icon,
.SlateToolbarIcon-icon-active,
.SlateEditor-send-icon
    @extends $SvgLight

// Drop arrow for toolbar icons
.SlateToolbarMenuIcon-carat
    @extends $SvgDark


/*
 * --- Mention/emote picker ---
 */

// The picker
.AbstractTypeaheadPlugin-container,
.TypeaheadDrawer-container
    opacity: floating-opacity
    background-color: bg-colour[4]
    border-color: border-light[2]
    border-radius: radius-2

.SlateTypeaheadMenuHeader
    // Picker's header
    &-container
        background-color: bg-colour[3]
        //border-bottom: solid 1px border-light[2]
        color: fg-colour[1]
    // Picker's search icon (@, #)
    &-searchTerm
        @extends $FakeMention
.TypeaheadMenu-list
    padding: spacing-0
    SetScrollbar()

// Template parameter icon
.TemplateParameterMenuItem-icon
    @extends $SvgDark

// Item hovered over
.MenuItemEnabled-container
    border-radius: radius-1
    border: solid 1px transparent
    &::after
        @extends $ContentGlare
    &-highlighted
        background-color: alpha(bg-hover, 0.1)
        @extends $FullBorderLight-1
        .TemplateParameterMenuItem-icon
            @extends $SvgMedium

.MentionMenuItem
    // Item's icon
    &-broadcast
        @extends $SvgDark
        // Picked item's icon
        .MenuItemEnabled-container-highlighted &
            @extends $SvgMedium
    // Item's description
    &-description
        @extends $TextDark
        // Picked item's description
        .MenuItemEnabled-container-highlighted &
            @extends $TextMedium