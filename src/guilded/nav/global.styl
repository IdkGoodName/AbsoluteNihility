@require "../../set"
@require "../../variables"
@require "../guilded-variables"

/*
 * -=- Server list -=-
 */

/*
 * --- Add servers ---
 */

.InlineAddItemControl
    // Server list add icon
    &-add-icon
        @extends $TransitionBackground
        @extends $SvgMedium
        // The SVG icon
        svg
            @extends $TransitionFill
        // Group add icon
        .GroupSelector-add-group &
            border-radius: 50%
            @extends $TransitionBounce
        .GroupSelector-add-group:hover &
            @extends $RadiusSmall
    &-container.InlineAddItemControl-container-desktop:hover &-add-icon
        @extends $SvgLight
    // Server list add text
    &-name
        @extends $TextMediumTransition
    &-container.InlineAddItemControl-container-desktop:hover &-name
        @extends $TextLight
// Server list add
.InlineAddItemControl-container
    --inline-add-icon-background-color: bg-colour[4]
    // Hover
    &:hover, &-flavor-background-highlight.InlineAddItemControl-container-desktop:hover
        // Server list add icon hover
        .InlineAddItemControl-add-icon
            background-color: bg-colour[5]
            fill: fg-colour[3]
        // Server list add text hover
        .InlineAddItemControl-name
            @extends $TextLight

/*
 * --- Current navigation ---
 */

// Server list server
.NavV4SelectorRow
    &-container
        local-spacing = spacing-0 - 1px
        margin: 0 local-spacing
        border: solid 1px transparent
        // Hover
        &::after
            transition: opacity
        &:hover
            @extends $FullBorderLight-1
        // Has notifications
        &-unread
            &::before
                @extends $Notification
                left: -(local-spacing) - 5px
            .NavV4TeamSelectorRow-team-name
                @extends $TextNotification
            &:hover .NavV4TeamSelectorRow-team-name
                @extends $TextNotificationHover
    // The ring around the server
    &-container-icon-outline:hover &-icon-container::after
        opacity: 0
    &-container-icon-outline.NavV4SelectorRow-container-active &-icon-container::after
        border: solid 2px active
        opacity: 1

    // Server list switcher buttons
    &-svg-icon
        @extends $SvgMedium

.NavV4TeamSelectorBottomOptionsList-label
    @extends $TextMedium
// Server list revealer
.NavV4ItemIcon-icon
    @extends $SvgDark
// Server list favourite icon
.FavoriteTeamButton-container
    @extends $SvgDarkTransition
    // Server list favourite hover
    &:hover
        @extends $SvgLight

// Server list item content
.NavV4TeamSelectorRow
    &-team-name
        @extends $TextMedium
    &-member-count
        @extends $TextDark

// Favourite server list
.NavV4FooterGlobalContextDisplay-teams-wrapper
    @extends $PanelDark
.NavV4BadgedItem-container
    width: auto
    // Favourite server hover
    &::after
        @extends $ContentGlare

/*
 * --- Legacy navigation ---
 */

// Whole bar
.Navbar-container
    @extends $PanelReallyDark
    --border-color: bg-colour[1]
// Guilded logo
.LogoAndWordmarkV2-container-theme-light
    @extends $SvgDark
// Guilded logo active
.LogoAndWordmarkV2-container-theme-gilded
    @extends $SvgThemeBleached
// User card
.NavbarUserControls-container
    --border-color: bg-colour[1]

// The buttons
.ChatChannelIcon-icon-group, // DM icon
.NavbarNavExploreIcon-link .NavbarNavExploreIcon-icon // Explore stuff icons
    @extends $SvgDark
// Selected icons
.ChatChannelIcon-container-selected .ChatChannelIcon-icon-group
    @extends $SvgMedium


/*
 * --- Search ---
 */

// Server search
.SearchBarV2-container.SearchBarV2-container-focused,
.TeamSearchBar-search-bar-input
    @extends $PanelMedium
// In-server search, emote search
.SearchBarV2-container-unfocused::after,
.SearchBarInput-container-bordered,
.SearchBarV2-container
    border-radius: 10px
    @extends $SetContentLight
// Search focused
.SearchBarV2-container-unfocused::after
    @extends $ContentGlare

// Results
.TeamSearchBar-search-results
    @extends $ContentLight
// Result item
.TeamSearchShallowResult
    &-container::before
        @extends $ContentGlare
    &-container-focused
        @extends $PanelMediumHighlighted
    // Channel icon
    &-icon-content-type
        @extends $SvgDark
    // Content
    &-title
        @extends $TextMedium
    &Subtitle-container
        @extends $TextDark
    // In ...
    &Description-container
        @extends $TextDarker

    // Type icon
    &-icon-search-category
        background-color: bg-colour[2] !important
        // Colour based on type
        .icon-content
            fill: $blue
        .icon-team-find
            fill: $yellow
        .icon-hashtag-new
            fill: $green
        .icon-profile
            fill: $cyan
    &-container-focused &-icon-search-category
        background-color: bg-colour[3]

// Search result type icon
.AvatarIcon-container
    @extends $SvgMedium

.SearchBarV2-container
    // Search icon
    .SearchBarV2-icon
        @extends $SvgMedium
    // Search placeholder
    .SearchBarV2-input::placeholder
        @extends $TextDark

//---- Search Results ----//

// Server search wrapper
.MinimalNavSearchBar-search-results
    opacity: floating-opacity
.GlobalSearchResult
    // Server search
    &s
        &-container
            @extends $PanelMild
        // Public servers header
        &-header
            @extends $TextDark
    // Server search item
    &-container-desktop
        // Server search item focused
        &.GlobalSearchResult-container-focused
            @extends $PanelMedium
        // Hovered over
        &::after
            @extends $ContentGlare


/*
 * -=- User card -=-
 */

// User card
.NavV4Footer-container
    @extends $PanelDark

// // User card's content
// .NavV4Footer-right,
// .NavV4Footer-footer-content
//     border-top-right-radius: radius-3

// User card's name
.LoggedInUserAvatar-name
    @extends $TextMediumTransition
    &:hover
        @extends $TextLight

.LoggedInUserStatus
    // User card's status
    &-content-with-status, &-container
        @extends $TextDarkTransition
        // Hover
        &:hover
            @extends $TextMedium

// User card buttons
.TransientMenuTrigger-container
    @extends $SvgDarkTransition
    &.TransientMenuTrigger-container-desktop:hover .TransientMenuTrigger-icon
        @extends $SvgMedium

.NavIcon-container-type-vertical-nav
    @extends $SvgDarkTransition
    &:hover
        @extends $SvgMedium

// More button (1) sign
.CircleBadgeV2-container
    @extends $PanelImportant

.NavV4Footer-footer-content,
.NavV4Footer-right,
.NavV4Sidebar-container
    @extends $PanelReallyDark
