@require "../../variables"
@require "../../content"
@require "../../set"

/*
 * -=- Banners -=-
 */

BannerWithButtonType(toExtend, colour)
    @extends {toExtend}

    .GuildedText-container-type-subtextBodyWhite
        color: colour
    .BannerWithButton-icon
        fill: colour


// Archive info bar, bot role warning
.BannerWithButton
    &-icon
        @extends $SvgMedium
    &-container
        @extends $OverrideContentBordered-3
        &-theme-warning
            BannerWithButtonType($PanelWarning, warning)
        &-theme-info
            BannerWithButtonType($PanelInfo, info)
        &-theme-error
            BannerWithButtonType($PanelCaution, bad-1)
// "Nicknames are visible to everyone in the server"
.ChangeNicknameOverlay-info
    @extends $PanelWarning

/*
 * --- Status ---
 */

// Status
.StatusMessage-container
    @extends $TextMedium
    // Status info
    &-type-info
        // Pops up and vanishes (No mic detected)
        &.StatusMessage-container-ephemeral,
        // Always there (Published on)
        &.StatusMessage-container-persistent
            @extends $PanelBordered-0
    // Status hover
    &-desktop.StatusMessage-container-clickable::after
        @extends $ContentGlare
    &-ephemeral
        @extends $PanelBordered-4
        // Copy invite alert
        &.StatusMessage-container-type-success
            @extends $PanelSuccess
            // Icon
            .StatusMessage-icon
                @extends $SvgGood
        // Invalid URL
        &.StatusMessage-container-type-error
            @extends $PanelCaution
            // @extends $Panel-4
            // @extends $TextBad
            // // Icon
            // .StatusMessage-icon
            //     @extends $SvgBad
        // No mic detected
        &.StatusMessage-container-type-info
            @extend $PanelInfo
        // Add-on custom
        &.StatusMessage-container-type-warning
            @extend $PanelWarning
    &-persistent
        // Persistent "Published bla bla bla" header
        &.PostDisplayV2-publish-banner
            @extends $PanelInfo

// Status text
.StatusMessage
    // Icon
    &-icon
        @extends $SvgMedium

// Connecting
.NetworkReconnectionDisplay
    // Loading bar
    &-container, &-container-reconnecting
        @extends $Panel-5
    // Connected
    &-container
        .NetworkReconnectionDisplay-icon
            @extends $SvgGood
        .NetworkReconnectionDisplay-text
            @extends $TextGood

// Status message as a banner
.StatusMessage-container-persistent
    // Message
    .StatusMessage-content
        @extends $TextLight
    // Make it dark with a border
    &.StatusMessage-container-type-banner
        background: bg-0
        border-bottom: solid 1px active
        .StatusMessage-content
            color: active
    // Same with stream mode, but purple
    &.StatusMessage-container-banner-type-streamer-mode
        background: bg-0
        border-bottom: solid 1px stream
        .StatusMessage-content
            color: stream

/*
 * -=- Text -=-
 */

// Text
.GH1-container
    @extends $TextLight
.GH2-container
    @extends $TextMedium
.GH3-container
    @extends $TextDark

.GuildedText-container-type
    &-heading1
        @extends $TextLight
    &-heading4
        @extends $TextLight
    &-subtext
        @extends $TextDark
// SVGs
.SVGIconWithTooltip
    &-container
        @extends $SvgDark
        // Normal clickable
        &-clickable:hover
            @extends $SvgLight
            .SVGIconWithTooltip-icon
                @extends $SvgLight
            .SVGIconWithTooltip-inline-text
                @extends $TextLight
        // Buttons
        &-flavor-hover-bleach
            @extends $Panel-4
            .SVGIconWithTooltip-icon
                @extends $SvgDark
            .SVGIconWithTooltip-inline-text
                @extends $TextDark
            &:hover .SVGIconWithTooltip-icon
                @extends $SvgMedium
            &:hover .SVGIconWithTooltip-inline-text
                @extends $TextMedium
        // Delete
        &-flavor-filled-remove
            @extends $PanelBad
            .SVGIcon-icon
                fill: black

// Link/Hyperlink
.MediaUploaderDropImageInstructions-browse-link,
.TeamListItemsCompletedHeader-show-complete,
.CustomFormIndividualResults-toggle-expand,
.LandingPageV3InternalLinkColumn-link,
.UserSettingsEmailPage-select-button,
.ChatV2MessageEditHelper-action,
.HoverContext-container-linkify,
.TeamSettingsWebhookPage-link,
.LandingFooterSEOLinks-link,
.InlineTextLink-container,
.CardGames-overflow-link,
.LandingFooterApps-link,
.EventCardMetadata-link,
.ChatEmbedContent-link,
.ChatEmbedAuthor-link,
.EmbedCardFooter-link,
.CancelText-container,
.CardList-label-link,
.StatusMessage-link,
.RouteLink-linkify,
.LinkRenderer
    // Link normally
    &, &:visited, &:focus
        @extends $TextThemeDull
    // Link clicked and hovered over
    &:hover, &:active
        @extends $TextThemeBleached

/*
 * --- Custom animations ---
 */

// Message avatar bouncing
.ChatV2MessageHeader-avatar-wrapper, .ChatV2MessageHeader-avatar
    @extends $TransitionBounce

    .ChatV2Message-header:hover &
        @extends $RadiusSmall

.PlayerCardProfilePicture-avatar
    @extends $TransitionBounce

    // Announcement & forum bouncing
    .TeamWidgetProfileDetails-container:hover &,
    // Member list avatar bouncing
    .SidebarUsersRoleInfo-user:hover &,
    // Doc bouncing
    .DocReader-header:hover &
        @extends $RadiusSmall

// Favourite server bouncing
.NavV4BadgedItem-image, .NavV4BadgedItem-icon-wrapper
    border-radius: 50%
    @extends $TransitionBounce

    .NavV4BadgedItem-container:hover &
        @extends $RadiusSmall

// Group icon bouncing
.GroupAvatar-container-non-base,
.GroupAvatar-icon
    border-radius: 50%
    // Inside group list
    .GroupSelector-container &
        @extends $TransitionBounce
    // Group hover
    .GroupSelectorItem-container:hover &,
    // Group selected
    .GroupSelector-container .NavSelectorItem-container-active &,
    // Group in preview
    .GroupSelectorPreview-container &
        @extends $RadiusSmall

.GroupAvatar-container-non-base
    @extends $ContentMildlyBordered-2

/*
 * --- Tab buttons ---
 */

.HorizontalTab,
.SimpleIconTabMenuHeaderItem
    // Tab
    &-container
        &:hover, &:active, &:focus
            background-color: alpha(bg-hover, 0.1)
        // Text
        .GH2-container
            @extends $TextMedium
        &-selected .GH2-container
            @extends $TextLight
        // Icon
        .SimpleIconTabMenuHeaderItem-icon
            @extends $SvgMedium
        &-selected .SimpleIconTabMenuHeaderItem-icon
            @extends $SvgLight
.HorizontalTab-container
    &:hover, &:active, &:focus
        .HorizontalTab-tab-text
            @extends $TextLight
// Tab highlighter
.SimpleIconTabMenuHeaderItem-container-selected::after,
.HorizontalTab-highlighter
    background-color: fg-1

/*
 * -=- Animated -=-
 */

// Flash when scrolling to a message or a forum post
.ScrollFlasher-container
    background-color: important

/*
 * -=- Mention icons and notifications -=-
 */

// Mentions
.BadgeV2-container,
.NavIcon-dot
    background-color: mention

// Notifications
.NavSelectorItem-container-orientation-horizontal.NavSelectorItem-container-unread,
.NavSelectorItem-container-orientation-vertical.NavSelectorItem-container-unread,
.NavV4BadgedItem-container-unread .NavV4BadgedItem-icon-wrapper,
.NavV4SelectorRow-container-unread,
.NavV4ItemIcon-icon-unread
    SetNotification()

/*
 * -=- Bars -=-
 */

// Container scrollbar
.UserAliasAdditionalInfoDisplayWrapper-container,
.TeamSettingsListItems-container-desktop:hover,
.Sheet-container-scrollable .Sheet-content,
.OnboardingTeamGameInfoStage-form-wrapper,
.NestedSettingsWrapper-second-child,
.TeamMemberRolesDisplay-list,
.Scrollable-container:hover,
.TeamNavMenu-wrapper:hover,
.ChatV2Sidebar-container,
.SimpleDrawer-container,
.ModalV2-modal-content,
.InsertGifPicker-gifs,
.Scrollable-container
    SetScrollbar()

// Upload/XP progress bar
.GoldenProgressBar
    // Background
    &-container,
    &-container-theme-dark
        @extends $Panel-5
    // Progress
    &-progress
        background-color: progress